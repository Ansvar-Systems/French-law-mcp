{
  "version": "1.1",
  "mcp_name": "French Law MCP",
  "description": "Golden contract tests validating French Law MCP tools against seed data. Minimum 15 tests required for production.",
  "tests": [
    {
      "id": "fr-001",
      "category": "provision_retrieval",
      "description": "Retrieve article L2321-1 from Code de la défense (cybersecurity)",
      "tool": "get_provision",
      "input": {
        "document_id": "code-defense",
        "provision_ref": "artL2321-1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"],
        "text_not_empty": true
      }
    },
    {
      "id": "fr-002",
      "category": "provision_retrieval",
      "description": "Retrieve article 323-1 from Code pénal (cybercrime)",
      "tool": "get_provision",
      "input": {
        "document_id": "code-penal",
        "provision_ref": "art323-1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"],
        "text_not_empty": true,
        "any_result_contains": ["système de traitement automatisé"]
      }
    },
    {
      "id": "fr-003",
      "category": "search",
      "description": "Search for 'securite' across French statutes",
      "tool": "search_legislation",
      "input": {
        "query": "securite",
        "limit": 5
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 1
      }
    },
    {
      "id": "fr-004",
      "category": "search",
      "description": "Search for 'traitement automatise' (automated processing)",
      "tool": "search_legislation",
      "input": {
        "query": "traitement automatise",
        "limit": 5
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 1,
        "any_result_contains": ["traitement"]
      }
    },
    {
      "id": "fr-005",
      "category": "search",
      "description": "Search limited to Code pénal cybercrime provisions",
      "tool": "search_legislation",
      "input": {
        "query": "systeme",
        "document_id": "code-penal",
        "limit": 10
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 1
      }
    },
    {
      "id": "fr-006",
      "category": "citation_validation",
      "description": "Validate citation for Code de la défense article L. 2321-1",
      "tool": "validate_citation",
      "input": {
        "citation": "Code de la défense, art. L. 2321-1"
      },
      "assertions": {
        "result_not_empty": true,
        "text_contains": ["\"valid\":true", "\"document_exists\":true", "\"provision_exists\":true"],
        "citation_resolves": true
      }
    },
    {
      "id": "fr-007",
      "category": "citation_formatting",
      "description": "Format citation in short form",
      "tool": "format_citation",
      "input": {
        "citation": "Code pénal, art. 323-1",
        "format": "short"
      },
      "assertions": {
        "result_not_empty": true,
        "text_not_empty": true
      }
    },
    {
      "id": "fr-008",
      "category": "currency_check",
      "description": "Check currency status of Code de la défense cybersecurity provisions",
      "tool": "check_currency",
      "input": {
        "document_id": "code-defense"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"]
      }
    },
    {
      "id": "fr-009",
      "category": "currency_check",
      "description": "Check currency status of specific provision in Code pénal",
      "tool": "check_currency",
      "input": {
        "document_id": "code-penal",
        "provision_ref": "art323-1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"]
      }
    },
    {
      "id": "fr-010",
      "category": "negative_test",
      "description": "Non-existent document returns null or error",
      "tool": "get_provision",
      "input": {
        "document_id": "nonexistent-code-9999",
        "provision_ref": "art1"
      },
      "assertions": {
        "handles_gracefully": true
      }
    },
    {
      "id": "fr-011",
      "category": "negative_test",
      "description": "Empty search query handles gracefully",
      "tool": "search_legislation",
      "input": {
        "query": ""
      },
      "assertions": {
        "handles_gracefully": true
      }
    },
    {
      "id": "fr-012",
      "category": "eu_cross_reference",
      "description": "Get EU basis for NIS2 transposition framework",
      "tool": "get_eu_basis",
      "input": {
        "document_id": "nis2-transposition-france"
      },
      "assertions": {
        "result_not_empty": true
      }
    },
    {
      "id": "fr-013",
      "category": "data_accuracy",
      "description": "Code civil article 1240 — fundamental tort liability provision",
      "tool": "get_provision",
      "input": {
        "document_id": "code-civil",
        "provision_ref": "art1240"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"],
        "text_not_empty": true,
        "any_result_contains": ["Tout fait quelconque de l'homme"]
      }
    },
    {
      "id": "fr-014",
      "category": "data_accuracy",
      "description": "Loi Informatique et Libertés article 1 — fundamental data protection provision",
      "tool": "get_provision",
      "input": {
        "document_id": "loi-informatique-libertes",
        "provision_ref": "art1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"],
        "text_not_empty": true,
        "any_result_contains": ["au service de chaque citoyen"]
      }
    },
    {
      "id": "fr-015",
      "category": "search",
      "description": "FTS search with French diacritics — données personnelles",
      "tool": "search_legislation",
      "input": {
        "query": "données personnelles",
        "limit": 5
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 1
      }
    },
    {
      "id": "fr-016",
      "category": "search",
      "description": "FTS search for 'contrat de travail' in Code du travail",
      "tool": "search_legislation",
      "input": {
        "query": "contrat de travail",
        "document_id": "code-travail",
        "limit": 5
      },
      "assertions": {
        "result_not_empty": true,
        "min_results": 1,
        "any_result_contains": ["contrat"]
      }
    },
    {
      "id": "fr-017",
      "category": "list_sources",
      "description": "list_sources returns provenance metadata with coverage stats",
      "tool": "list_sources",
      "input": {},
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"],
        "text_contains": ["Legifrance", "FR"]
      }
    },
    {
      "id": "fr-018",
      "category": "negative_test",
      "description": "Search with FTS5 special characters handles gracefully",
      "tool": "search_legislation",
      "input": {
        "query": "hello(world) {test}",
        "limit": 5
      },
      "assertions": {
        "handles_gracefully": true
      }
    },
    {
      "id": "fr-019",
      "category": "provision_retrieval",
      "description": "Code de commerce article L110-1 — fundamental commercial acts",
      "tool": "get_provision",
      "input": {
        "document_id": "code-commerce",
        "provision_ref": "artL110-1"
      },
      "assertions": {
        "result_not_empty": true,
        "fields_present": ["results"],
        "text_not_empty": true
      }
    },
    {
      "id": "fr-020",
      "category": "negative_test",
      "description": "Non-existent provision in existing document returns null",
      "tool": "get_provision",
      "input": {
        "document_id": "code-penal",
        "provision_ref": "art99999-99"
      },
      "assertions": {
        "handles_gracefully": true
      }
    }
  ]
}
